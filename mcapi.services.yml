services:
  plugin.manager.mcapi.transaction_operation:
    class: Drupal\mcapi\Plugin\OperationManager
    arguments: ['@container.namespaces', '@cache.entity', '@language_manager', @module_handler]

  plugin.manager.mcapi.wallet_access:
    class: Drupal\mcapi\Plugin\WalletAccessPluginManager
    arguments: ['@container.namespaces', '@cache.entity', '@language_manager', @module_handler]

  paramconverter.mcapi_transaction_serial:
    class: Drupal\mcapi\ParamConverter\TransactionSerialConverter
    arguments: ['@entity.manager']
    tags:
      - { name: paramconverter, priority: 10 }

  mcapi.subscriber:
    class: Drupal\mcapi\Routing\RouteSubscriber
    arguments: ['@entity.manager']
    tags:
     - { name: event_subscriber }

  access_check.add_wallet:
    class: Drupal\mcapi\Access\WalletAddAccessController
    tags:
      - { name: access_check }
