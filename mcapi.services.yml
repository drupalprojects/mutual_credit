services:
  plugin.manager.mcapi.transaction_transition:
    class: Drupal\mcapi\Plugin\TransitionManager
    arguments: ['@container.namespaces', '@cache.entity', '@language_manager', @module_handler, @config.factory]

  plugin.manager.mcapi.wallet_access:
    class: Drupal\mcapi\Plugin\WalletAccessPluginManager
    arguments: ['@container.namespaces', '@cache.entity', '@language_manager', @module_handler, @current_user]

  paramconverter.mcapi_transaction_serial:
    class: Drupal\mcapi\ParamConverter\TransactionSerialConverter
    arguments: ['@entity.manager']
    tags:
      - { name: paramconverter, priority: 10 }

  mcapi.subscriber:
    class: Drupal\mcapi\Routing\RouteSubscriber
    arguments: ['@entity.manager']
    tags:
     - { name: event_subscriber }

  access_check.add_wallet:
    class: Drupal\mcapi\Access\WalletAddAccessCheck
    tags:
      - { name: access_check, applies_to: _wallet_add_access  }

