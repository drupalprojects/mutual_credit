services:
  mcapi.transition_manager:
    class: Drupal\mcapi\Plugin\TransitionManager
    arguments: ['@container.namespaces', '@cache.entity', @module_handler, @config.factory, @redirect.destination]

  mcapi.transaction_relative_manager:
    class: Drupal\mcapi\Plugin\TransactionRelativeManager
    arguments: ['@container.namespaces', '@cache.entity', @module_handler, @config.factory]

  paramconverter.mcapi_transaction_serial:
    class: Drupal\mcapi\ParamConverter\TransactionSerialConverter
    arguments: ['@entity.manager']
    tags:
      - { name: paramconverter, priority: 10 }

  mcapi.route.subscriber:
    class: Drupal\mcapi\Routing\RouteSubscriber
    arguments: ['@entity.manager']
    tags:
     - { name: event_subscriber }
     
  #register a new logger channel
  logger.channel.mcapi:
    class: Drupal\Core\Logger\LoggerChannel
    factory_method: get
    factory_service: logger.factory
    arguments: ['mcapi']
    
  #transaction creation hooks
  mcapi.transaction.create.subscriber:
    class: Drupal\mcapi\TransactionSubscriber
    arguments: []
    tags:
      - { name: event_subscriber }
  