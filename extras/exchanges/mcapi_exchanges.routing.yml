
#exchanges
mcapi.admin_exchange_list:
  path: '/admin/accounting/exchanges'
  defaults:
    _entity_list: 'mcapi_exchange'
    _title: Exchanges
  requirements:
    _permission: 'manage mcapi'
  options:
    _admin_route: TRUE

mcapi.exchange.view:
  path: '/exchange/{mcapi_exchange}'
  defaults:
    _content: '\Drupal\mcapi_exchanges\Controller\ExchangeController::page'
    _title_callback: '\Drupal\mcapi_exchanges\Controller\ExchangeController::pageTitle'
  requirements:
  #this MUST be public if joining is to be allowed.
    _access: 'TRUE'
#    _entity_access: 'mcapi_exchange.view'

mcapi.exchange.add:
  path: '/exchange/add'
  defaults:
    _entity_form: 'mcapi_exchange.add'
    _title: Create exchange
  requirements:
    _entity_create_access: mcapi_exchange
  options:
    _admin_route: TRUE

mcapi.exchange.edit:
  path: '/exchange/{mcapi_exchange}/edit'
  defaults:
    _entity_form: 'mcapi_exchange.edit'
    _title: 'Edit exchange'
  requirements:
    _entity_access: 'mcapi_exchange.update'

mcapi.exchange.masspay:
  path: '/exchange/{mcapi_exchange}/masspay'
  defaults:
    _entity_form: 'mcapi_exchange.masspay'
    _title: 'Mass payment'
  requirements:
    _entity_access: 'mcapi_exchange.manage'

mcapi.exchange.join:
  path: '/exchange/{mcapi_exchange}/join'
  defaults:
    _content: '\Drupal\mcapi_exchanges\Controller\ExchangeJoin::page'
    _title: '\Drupal\mcapi_exchanges\Controller\ExchangeJoin::title'
  requirements:
    _exchange_join_access: 'TRUE'
  options:
    parameters:
      exid: mcapi_exchange

mcapi.contact.exchange:
  path: '/exchange/{mcapi_exchange}/contact'
  defaults:
    _title: 'Contact'
    _content: '\Drupal\mcapi_exchanges\Controller\ExchangeContactController::page'
  requirements:
    _access: 'TRUE'

mcapi.exchange.enable_confirm:
  path: '/exchange/{mcapi_exchange}/enable'
  defaults:
    _entity_form: 'mcapi_exchange.enable'
  requirements:
    _permission: 'manage mcapi'
  options:
    _admin_route: TRUE

mcapi.exchange.disable_confirm:
  path: '/exchange/{mcapi_exchange}/disable'
  defaults:
    _entity_form: 'mcapi_exchange.disable'
  requirements:
    _permission: 'manage mcapi'
  options:
    _admin_route: TRUE

mcapi.exchange.delete_confirm:
  path: '/exchange/{mcapi_exchange}/delete'
  defaults:
    _entity_form: 'mcapi_exchange.delete'
  requirements:
    _permission: 'manage mcapi'
  options:
    _admin_route: TRUE


#TODO not sure the best way to make a tab on the exchanges page which shows the wallet log for its _intertrading wallet
#mcapi.exchange.wallet:
#  path: '/exchange/{mcapi_exchange}/intertrading'
#  defaults:
 #   _content: \Drupal\mcapi\Controller\WalletController::page
 #   _title_callback: \Drupal\mcapi\Controller\WalletController::pageTitle'
#  requirements:
 #   _entity_access: 'mcapi_exchange.update'
