mcapi.admin:
  path: '/admin/accounting'
  defaults:
    _controller: 'Drupal\mcapi\Controller\AccountingAdmin::systemAdminMenuBlockPage'
    _title: 'Accounting'
  requirements:
    _permission: 'access administration pages'
  options:
    _admin_route: TRUE

mcapi.admin_misc:
  path: '/admin/accounting/misc'
  defaults:
    _form: 'Drupal\mcapi\Form\MiscForm'
    _title: 'Other configuration'
  requirements:
    _permission: 'configure mcapi'
  options:
    _admin_route: TRUE

mcapi.admin.transactions:
  path: '/admin/accounting/transactions'
  defaults:
    _controller: 'Drupal\mcapi\ListBuilder\WorkflowListBuilder::render'
    _title: 'Transactions'
  requirements:
    _permission: 'access administration pages'
  options:
    _admin_route: TRUE

mcapi.admin.workflow.toggle:
  path: '/admin/accounting/transactions/{transition}/toggle'
  defaults:
    _form: 'Drupal\mcapi\Form\TransitionToggle'
    _title_callback: 'Drupal\mcapi\Form\TransitionToggle::title'
  requirements:
    _permission: 'configure mcapi'
  options:
    _admin_route: TRUE

mcapi.workflow_settings:
  path: '/admin/accounting/transactions/{transition}'
  defaults:
    _form: 'Drupal\mcapi\Form\TransitionSettingsForm'
    _title_callback: 'Drupal\mcapi\Form\TransitionSettingsForm::title'
  requirements:
    _permission: 'configure mcapi'
  options:
    _admin_route: TRUE

mcapi.admin_wallets:
  path: '/admin/accounting/wallets'
  defaults:
    _form: 'Drupal\mcapi\Form\WalletSettings'
    _title: 'Wallet Settings'
  requirements:
    _permission: 'configure mcapi'

mcapi.wallets.autocomplete:
  path: '/mcapi/walletcomplete/{role}'
  defaults:
    _controller: 'Drupal\mcapi\Controller\WalletAutocompleteController::autocomplete'
  requirements:
    _custom_access: 'Drupal\mcapi\Access\TransactionAccessControlHandler::enoughWallets'

mcapi.admin.transaction_form.list:
  path: '/admin/accounting/forms'
  defaults:
    _controller: 'Drupal\mcapi\Controller\FormList::buildPage'
    _title: 'Transaction forms'
  requirements:
    _permission: 'configure mcapi'
  options:
    _admin_route: TRUE

mcapi.masspay.12many:
  path: '/transaction/mass/12many'
  defaults:
    _entity_form: 'mcapi_transaction.12many'
    _title: 'One wallet pays many'
  requirements:
    _permission: 'manage mcapi'
mcapi.masspay.many21:
  path: '/transaction/mass/many21'
  defaults:
    _entity_form: 'mcapi_transaction.many21'
    _title: 'Many wallets pay one'
  requirements:
    _permission: 'manage mcapi'


